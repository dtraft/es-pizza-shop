WriteApi:
  handler: ./.bin/writeapi
  events:
    - http:
        path: '{proxy+}'
        method: post
        cors: true
    - http:
        path: '{proxy+}'
        method: put
        cors: true
    - http:
        path: '{proxy+}'
        method: delete
        cors: true
  environment:
    TABLE_NAME: !Ref EventsTable
  iamRoleStatementsName: WriteApiRole-${opt:stage}
  iamRoleStatements:
    - Effect: Allow     
      Action:
        - dynamodb:PutItem   
        - dynamodb:Query     
      Resource: !GetAtt EventsTable.Arn
    - Effect: Allow
      Action:
        - logs:CreateLogGroup
      Resource: '*'
